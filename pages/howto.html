<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Wult - Howto</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"/>
        <link rel="stylesheet" type="text/css" href="https://intel.github.io/wult/theme/css/main.css"/>
</head>
<body>
<style>.github-corner:hover .octo-arm {
    animation: octocat-wave 560ms ease-in-out
}
@keyframes octocat-wave {
    0%, 100% {
        transform: rotate(0)
    }
    20%, 60% {
        transform: rotate(-25deg)
    }
    40%, 80% {
        transform: rotate(10deg)
    }
}
@media (max-width: 500px) {
    .github-corner:hover .octo-arm {
        animation: none
    }

    .github-corner .octo-arm {
        animation: octocat-wave 560ms ease-in-out
    }
}</style><div id="container">
    <header>
        <h1><a href="https://intel.github.io/wult/">Wult</a></h1>
        <p><em></em></p>
    </header>
    <nav>
        <ul>
                <li><a href="/wult/pages/how-it-works.html">How it works</a></li>
                <li><a href="/wult/pages/install-guide.html">Install</a></li>
                <li><a href="/wult/pages/user-guide.html">Use</a></li>
                <li><a href="/wult/pages/howto.html">Howto</a></li>
                <li><a href="/wult/pages/ndl.html">Ndl</a></li>
        </ul>
    </nav>
    <main>
        <section>
            <h1>Howto</h1>
            
            <!-- -*- coding: utf-8 -*- -->
<!-- vim: ts=4 sw=4 tw=100 et ai si -->
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#wult-report-1" id="toc-entry-1">Wult report</a><ul>
<li><a class="reference internal" href="#include-only-cc6-datapoints" id="toc-entry-2">Include only CC6 datapoints</a></li>
<li><a class="reference internal" href="#fewer-datapoints-in-the-html-report" id="toc-entry-3">Fewer datapoints in the HTML report</a></li>
</ul>
</li>
<li><a class="reference internal" href="#intel-i210-nic" id="toc-entry-4">Intel I210 NIC</a><ul>
<li><a class="reference internal" href="#how-to-use-wult-with-intel-i210-nic" id="toc-entry-5">How to use wult with Intel I210 NIC</a></li>
<li><a class="reference internal" href="#which-intel-i210-nic-to-buy" id="toc-entry-6">Which Intel I210 NIC to buy</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="wult-report-1">
<span id="wult-report"></span><h2><a class="toc-backref" href="#toc-entry-1">Wult report</a></h2>
<div class="section" id="include-only-cc6-datapoints">
<h3><a class="toc-backref" href="#toc-entry-2">Include only CC6 datapoints</a></h3>
<p>Suppose you have a raw <em>wult</em> result for a Xeon platform, and you want to include only datapoints
with core C6 (CC6) residency in an HTML report. Supposed you do not want to include datapoints with
package C2 (PC2) and package C6 (PC6) residency. Here is how to do this:</p>
<pre class="literal-block">
wult report --rsel 'CC6% &gt; 0 &amp; PC6% == 0 &amp; PC2% == 0' &lt;raw_result&gt;
</pre>
<p>This command specifies the &quot;row selector&quot; (<cite>--rsel</cite>) option which says that <em>wult</em> should only
select datapoints with CC6 residency greater than zero and zero PC6/PC2 residency.</p>
</div>
<div class="section" id="fewer-datapoints-in-the-html-report">
<h3><a class="toc-backref" href="#toc-entry-3">Fewer datapoints in the HTML report</a></h3>
<p>Suppose you have two raw <em>wult</em> results:</p>
<pre class="literal-block">
$ ls
ivt-nic-c6-hfm-noaspm  ivt-tdt-c6-hfm-noaspm
</pre>
<p>Suppose the raw results contained 1000000 datapoints and you've generated a diff for them:</p>
<pre class="literal-block">
$ wult report -o ivt-c6-hfm-nic-vs-tdt ivt-nic-c6-hfm-noaspm ivt-tdt-c6-hfm-noaspm

$ du -sh ivt-c6-hfm-nic-vs-tdt/
406M   ivt-c6-hfm-nic-vs-tdt/
</pre>
<p>Suppose the diff is too large for your purposes (406M), and you want a diff that takes less storage.</p>
<p>One option for you is to include fewer datapoints in the report, for example 10000 instead of
1000000. You can use the <cite>--rsel</cite> option to select only the first 10000 datapoints.</p>
<pre class="literal-block">
$ wult report -o ivt-c6-hfm-nic-vs-tdt --rsel 'index &lt; 10000' ivt-nic-c6-hfm-noaspm ivt-tdt-c6-hfm-noaspm

$ du -sh ivt-c6-hfm-nic-vs-tdt
11M    ivt-c6-hfm-nic-vs-tdt
</pre>
</div>
</div>
<div class="section" id="intel-i210-nic">
<span id="intel-i210"></span><h2><a class="toc-backref" href="#toc-entry-4">Intel I210 NIC</a></h2>
<div class="section" id="how-to-use-wult-with-intel-i210-nic">
<h3><a class="toc-backref" href="#toc-entry-5">How to use wult with Intel I210 NIC</a></h3>
<p>First of all, read <a class="reference external" href="how-it-works.html#i210-warning">a word of warning here</a>.</p>
<p>We recommend to stick with the <em>hrt</em> method, but if you have a specific reason to use the <em>nic</em>
method with Intel I210, here are some hints.</p>
<p>Make sure to install an Intel I210-based NIC to the SUT (System Under Test) by plugging it into an
appropriate PCIe slot. You do not need to connect the Intel I210 NIC to the network (no cable
needed).</p>
<p>The important thing, however, is that you should not use the I210 NIC for anything else, it has to
be dedicated to <em>wult</em>. It is OK to have multiple I210 adapters on your system, as long as one of
them is dedicated to <em>wult</em>. Here are two example SUT configurations.</p>
<img alt="Example wult HW setup for the &quot;nic&quot; measurement method." src="../images/wult-hw-setup.jpg" />
<p>In the left picture the SUT has only one NIC dedicated to <em>wult</em>. The SUT is not connected to any
network and the user is logged in via a physically attached keyboard and monitor.</p>
<p>In the right picture the SUT is connected to a LAN with another NIC, but it has a separate NIC,
which is dedicated to <em>wult</em>. The user is logged in via SSH.</p>
</div>
<div class="section" id="which-intel-i210-nic-to-buy">
<h3><a class="toc-backref" href="#toc-entry-6">Which Intel I210 NIC to buy</a></h3>
<p>Intel I210 is a 1GbE network chip, several vendors ship (or shipped) network cards based on the I210
chip.  For example, we used the HP I210-T1 Network Adapter (E0X95AA).</p>
<p>There are other adapters out there. If you successfully used some of them with <em>wult</em>, let us know
and we'll mention them here.</p>
</div>
</div>

        </section>
     </main>
    <footer>
        <h6>
            Rendered by <a href="http://getpelican.com/">Pelican</a> &nbsp;&bull;&nbsp; Theme by <a
                href="https://github.com/aleylara/Peli-Kiera">Peli-Kiera</a> &nbsp;&bull;&nbsp; Copyright
                &copy &nbsp;&#8209;&nbsp; Artem Bityutskiy         </h6>
    </footer>
</div>
</body>
</html>
